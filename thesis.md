# 论文

## 摘要

随着互联网基础设施的逐步完善，信息的生产速度显著提升，但当前的内容生成方式仍主要依赖于人工创作。随着人工智能技术的快速发展，网络数据的生产主体将逐步从人类转向人工智能。文本作为互联网信息的核心载体，是人工智能内容生成的关键领域之一，基于语言模型进行文本创作展现出了广阔的应用前景。

由于相关实践仍处于探索阶段，如何利用现有技术、模型如何实现高质量文本生成，是一个有待解决的问题。现有的文本生成应用仍然存在一些不足，包括无法生成满足需求的高质量文本，生成的文本 AI 语气严重，容易出现“幻觉”等缺陷。基于此背景，本文探索并设计了一个较为完善的 AI 写作辅助应用，结合了 RAG（检索增强生成）的相关研究，面向AI的搜索引擎的技术和一些模型的使用技巧，弥补上述不足和缺点，生成更精确、高质量和符合需求的文章和文本数据。本文详细介绍了系统的整体设计与架构、工程实现，并通过案例分析验证了系统在功能性和创新性方面的优势。

## 绪论

### 课题背景与意义

文本信息作为互联网上占比最大的内容形式，其产出一直以人类为主体，典型的例子比如人工对维基百科的维护工作、各种图书检索库的信息内容。而借助 AI 进行文本生成(Text Generation)赋予了机器媲美人类产出内容的能力，使得机器能够编写新闻、总结知识、编写故事、整理文本。这一技术降低了人工成本，也极大的提高了互联网的内容生产速率。文章作为文本内容的载体，也是互联网内容的主要载体。随着 chatGPT 与 deepseek 的爆火，AI热潮逐渐兴起，通过现有的相关技术，LLM 开始有能力进入工业和商业界落地应用。生成式语言模型(Generative Pre-trained Transformers，GPT) 是目前文本生成使用的主要语言模型，利用生成式语言模型来进行文章的生成，具有很好的应用潜力。检索增强生成（Retrieval-augmented generation, RAG) 是一种赋予生成式人工智能模型信息检索能力的技术。它优化大型语言模型的交互方式，让模型根据指定的一组文件回应用户的查询，并使用这些信息增强模型从自身庞大的静态训练数据中提取的信息。基于 AI 的搜索引擎结合了 LLM 和搜素引擎的能力，它能够提供实时、准确和无偏见的网络信息，这种能力简化了将动态网络信息集成到现有人工智能驱动解决方案中的过程。

本文以大模型为基础，通过结合 RAG 与 AI 搜索引擎，使用分步生成，提示词优化等模型使用技巧，设计了一个较为完善的 AI 写作辅助应用，它能够精准的理解任务需求，并生成符合需求的高质量的文章。

### 本文研究内容

本文的主要工作如下：

1. 调研了现有与文章生成有关的技术的发展现状以及落地情况，总结了目前存在的不足与需要改进之处；
2. 通过需求与功能分析，设计了一个较为完善的文章生成应用，详细阐述了文章生成应用中各个模块的实现原理以及相关功能的实现细节。
3. 结合不同的文章生成案例，对系统中的服务进行了分析与对比，证明了系统的实用性和创新性。

### 本文组织结构

本文的章节安排如下：

第一章：绪论。针对文章生成应用的研究背景和意义进行了介绍，同时提出了本文的主要工作，最后介绍了本文的结构安排。

第二章：相关技术概述及国内外研究现状。调研了现有与文章生成有关的技术，针对应用中将会涉及到的国内外相关工作进行总结，并对系统中需要用到的一些关键技术的基本概念进行介绍，比如RAG（检索增强生成）技术等。

第三章：文章生成应用需求分析与系统设计。针对基于生成式模型的文章生成应用的整体架构图以及各模块如何一起工作进行了陈述，并详细描述了各个模块涉及到的优化算法或策略，以及其他处理细节。

第四章：实现与开发。阐述系统的技术细节、关键模块的具体实现以及交互模块的设计。最后，结合不同文章类型的生成，与当下已有的应用服务进行了对比，证明了系统的创新性、实用性。

第五章：总结与展望。总结本文的工作，并对未来的研究工作进行展望与规划。

## 相关技术概述及国内外研究现状

### 自然语言处理

自然语言处理（Natural Language Processing，NLP）是计算机科学、人工智能与语言学交叉的学科，旨在使计算机能够理解、分析、生成和处理人类自然语言，进而实现与人类的有效语言交互。作为生成式语言模型的技术基础，自然语言处理技术经历了从基于规则的早期方法，到统计学习，再到现代深度学习的演变。最初，NLP主要依赖人工编写的规则，处理能力受限。随着统计模型的引入，通过对大规模数据的分析，任务的表现得到了显著提升，尤其是在机器翻译和文本分类等应用领域。近年来，基于Transformer架构的深度学习模型（如BERT、GPT等）引发了NLP的革命，能够自动捕捉复杂的语言特征和上下文信息，极大地推动了文本生成、情感分析等任务的性能提升。

### 基于GPT的文章生成方案

生成式语言模型（GPT）是一类基于自然语言处理技术发展的先进模型。通过学习海量的文本数据，生成式模型能够掌握语言的统计规律与语义模式，从而生成与训练数据相似且具有高度连贯性的文本。此类模型通常基于是Transformer架构。其工作原理是以一段初始文本为输入，通过预测下一个单词或字符的概率分布，逐步生成新的文本。基于生成式模型的文章生成技术在应用与研究方面展现出显著的潜力，主要体现在以下几个方面：

1. **技术基础**：生成式语言模型能够有效捕捉文本中的长距离依赖关系，生成语法正确、语义连贯的文章。与传统的基于规则或统计的方法相比，生成式语言模型无需人工干预，能够自动生成符合语法、含有语义的文章内容。
2. **数据基础**：当前，互联网中蕴藏着海量的文本资源，包括新闻文章、博客、小说、学术论文等。这些文本数据涵盖了各个领域和主题，为生成式模型提供了丰富的学习素材。通过对这些大规模文本数据的学习，生成式模型能够掌握语言的统计规律、语法结构以及语义表达，从而生成高质量、连贯性强的文章。
3. **应用场景需求**：文本生成技术在多个领域中具有广泛的应用前景。例如，在新闻行业中，AI可辅助记者快速生成新闻初稿；在文学创作中，AI能够为作家提供创作灵感；在内容平台上，AI能根据用户兴趣偏好生成个性化阅读内容。这些应用不仅提升了内容创作的效率，也为用户提供了更加个性化的体验。

### RAG（检索增强生成）

检索增强生成（Retrieval-Augmented Generation，RAG）是一种结合信息检索与生成模型的技术方法。该方法通过结合预训练生成模型和外部知识库（如文档库、网页内容等）来增强生成模型的能力，使其能够在生成过程中更加精准地利用外部知识，从而提升生成内容的质量和准确性。RAG框架通常由两部分组成：第一部分是信息检索模块，它从大量的文本数据中检索出相关的信息；第二部分是生成模块，利用检索到的信息来生成合理且符合上下文的文本。RAG技术尤其在开放域问答、文章生成等任务中表现出色，能够有效避免生成模型的“幻觉问题”，提高生成内容的知识丰富性和逻辑性。利用RAG技术，能够辅助生成式模型来生成更高质量的文本数据。

### AI 驱动的搜索引擎

AI驱动的搜索引擎是利用人工智能技术，尤其是自然语言处理和机器学习算法，来提升传统搜索引擎的智能化水平。构建一个利用实时在线信息的 AI 代理并非易事。抓取无法扩展，需要专业知识来完善，当前的搜索引擎 API 不会为查询提供明确的信息，而只是提供潜在的相关文章（并且这些文章并不总是相关的），并且不太适合根据 AI 代理的需求进行定制。与传统的基于关键词匹配的搜索方式不同，AI 驱动的搜索引擎可以更好地理解用户的查询意图和上下文信息，提供更加精准和个性化的搜索结果。例如，现代搜索引擎采用了语义搜索、推荐系统以及基于深度学习的排序算法，能够理解自然语言查询，并通过智能推理为用户提供相关信息，并提供高效、且最新的搜索结果。在系统中引入面向AI的搜索引擎，能够保证生成的文章具备高的实时性，提供更加精准和符合热点的文章产出。

### 应用现状

目前，面向文章创作的AI应用相对较少，且普遍存在一定的缺陷和不足，亟待进一步改进。国内 AI 写作应用仍处于探索和发展阶段，相关产品数量较少，且在功能完善度和用户体验方面存在明显差距。国外在 AI 写作技术的应用方面比国内稍多，这些工具普遍依赖大规模的生成模型，并在内容创作、广告文案生成、SEO 优化等领域得到了应用，但仍在不成熟。然而，相关开源软件生态仍较为薄弱，缺乏成熟的解决方案，许多研究集中在基础设施和框架的开发，如自然语言处理框架、AI搜索引擎的建设以及  RAG 集成模型的研究等。随着人工智能技术的不断发展与应用，未来 AI 写作在各个领域的应用将变得更加成熟。

## 文章生成应用需求分析与系统设计

  ### 功能与需求分析

#### 系统功能性需求分析

全面的需求分析与功能设计，可以为系统设计提供方向和指导，使在设计系统时遵循一定的目标与标准，保证系统的结构合理、目标清晰。考虑到系统的实用性、交互性与可扩展性，本文章生成应用具备如下的功能：

（1）文章编写与生成过程：

- 作为最核心与最基本的功能，应用应该能够根据用户提供的信息，生成符合需求的、完整的文章。
- AI润色与优化：
  - 提供多种板式与可定制的提示词模板，帮助用户根据不同的需求（如学术论文、博客文章等）快速生成文章；提供扩写、润色、优化、校对等多种选项供用户使用；
  - 支持基于 AI 的网络检索与RAG检索；
  - 考虑到文章的应用目标为网络平台，文章支持 SEO 优化选项，以提高文章被检索到的概率。


（2）用户与文档管理：

- 支持基于邮件服务器的用户注册与登录功能；
- 提供个人的文档存储与管理、收藏，支持下载删除与复原；
- 提供个人模板保存、模板库管理。

（3）自定义文章生成配置：

- 用户能够自定义整文生成的配置，配置能支持多种配置选项，如模型及其参数选择、搜索引擎选择、自定义RAG知识库等。
- 配置的粒度能够精确到分步生成的每一步，能够调整每一步的相关配置。

（3）交互与反馈：

- 提供富文本编辑支持，用户可以进行修改或调整，以便获得更合适的输出；支持智能格式排版。
- 提供简洁易用的用户界面，以引导用户能够轻松输入提示词，生成所需文章。

（4）输入输出格式支持

- 支持文档导入并自动进行智能排版；

- 支持 OCR 图片字符识别、语音识别输入，支持思维导图生成；

- 支持多种文件格式的输出，如Word、PDF、Markdown等，满足不同场景下的使用需求。

#### 非功能性需求

非功能性需求是指并非用户使用上能够直接被提供的服务，而表现为系统的一些需求特性，例如安全性、可靠性、可扩展性等等。这些需求将会从侧面影响到系统的使用体验，所以进行系统的非功能性分析是有必要的。本节对本应用需要的非功能性需求进行阐述：

（1）及时性需求

在AI文章生成场景中，响应的及时性至关重要。现有生成式模型通常无法一次性生成完整结果，尤其是在非流式输出场景下，如果系统响应时间过长，用户可能误以为系统未正确处理请求，从而影响使用体验。因此，提高系统的响应速度是关键。

在设计上，可以通过分段生成、显示进度条或提供用户提示等方式改善用户体验。同时，优化系统内部逻辑，增强错误处理与反馈机制，例如支持任务并行处理、实现超时错误捕获等，以尽可能快速地响应用户请求。

（2）扩展性需求

鉴于AI技术的迅速发展，系统底层逻辑可能需要随着模型更新、接口变更等需求进行调整。此外，为确保未来能够便捷地添加新功能，本系统将采用高内聚、低耦合的模块化设计策略。各模块将相互独立、职责明确，从而实现高扩展性，确保在较低成本下完成功能扩展或系统升级。

### 模块划分与系统架构设计

### 应用架构选型

应用架构有很多种，本应用以标准的 Web 应用架构为例，分为后台程序和前端程序两部分。其中后台程序负责对 Web 应用中的业务逻辑进行处理，本应用的选型为 Flask，并且使用 Restful 的接口设计；前端部分即展示给用户的可视化操作界面，此处选择展示在 Web 浏览器端，使用 Vue 等技术完成交互逻辑。

![image-20250103193740573](C:\Users\xiaoyan13\AppData\Roaming\Typora\typora-user-images\image-20250103193740573.png)

#### 系统架构设计

下图展示了本系统所使用到的技术选型，以及系统的整体架构设计。

![系统架构设计图](C:\Users\xiaoyan13\Desktop\thesis-pictures\系统架构设计图.png)

#### 模块划分

系统的模块划分图如图所示：

![流程图](C:\Users\xiaoyan13\Desktop\thesis-pictures\流程图.png)

系统大致分为如下几个模块：

- 文章生成模块。该模块为应用的核心部分，符合根据用户的配置和请求来生成合适的文本结果并返回。一个文章生成流程在设计上被设计为多个任务的分解。任务的数量、每一步的任务都是可定制的，用户可以在文章生成配置页面进行文章生成的配置。
- AI 搜索模块。该模块将被文章生成和润色优化模块调用，用于检索实时的网络数据，为生成式模型准备 AI 就绪的数据。
- RAG 检索模块。该模块分为两个子模块：
  - 网络 RAG 模块。该模块类似于上述提到的 AI 搜索模块，同样也提供网络的知识数据。二者的不同在于，基于AI的搜索引擎通常采用深度学习与传统搜索技术，结合关键字匹配、向量检索等方法，从大规模网页或数据库中检索信息，并返回相关文档或答案，本质上仍然是信息检索系统（IR）。而网络 RAG 是先从外部知识库或索引中检索相关信息，再结合大模型（LLM）进行生成，确保生成的文本基于最新或权威的检索内容。就结果来讲，AI搜索返回的搜索结果，而 RAG 返回的仅仅是一段文本，由模型生成。
  - 本地 RAG 模块。系统允许用户针对每个文章生成配置自行上传文本文件，他们将会被系统存储并记录，并在文本生成过程中被使用和作为参考。
- 润色与优化工具模块。该模块主要用于为富文本编辑器提供 AI 支持。例如，选中文本以支持多种 AI 优化功能：扩写、续写、重写，润色与校对、重点提取与全文总结等。
- 文档与模板管理模块。该模块用于文档与模板的管理。模板的概念指的是，文档允许被另存为模板以供后续使用，可以通过模板来创建一个文档。该模块的基本功能是文档、模块的管理、回收。此外还提供了文档与模板星标功能，用户能够收藏文档以便使用。
- 用户管理模块。该模块负责用户管理。在系统设计上，系统支持通过邮箱进行用户注册，并且一切用户关联的操作通过 JWT 鉴权机制来保证操作的合法性。 

除了以上的基本功能，为了提高用户的使用体验、使整个文章的编写流程更加流畅，系统提供还提供了一些其他功能：

- 支持多格式的输入解析与输出保存。系统集成了支持 OCR 的图片与语音识别的调用，同时支持多种文本格式（如 .docx, .pdf）的文本导出格式；
- 支持一键智能排版、文件预览。

#### 流程设计

下列图列出了系统的常见使用流程，旨在更清晰的叙述部分典型的用户使用场景。

1. 文档编辑

在系统的主页面，用户可以通过点击“我的文档"即可看到当前所拥有的文档。点击“新建文档”或点击展示出的某个文档，即可进入文档的编辑页面。在编辑页面，系统提供的及其强大的富文本编辑器支持，默认支持 Markdown 语法。用户可以在编辑页的左侧看到根据词法分析所列出的大纲；也可以在右上角查看大纲对应的思维导图。在右侧，系统提供了提示词模板，在用户点击时将插入一个AI助手到当前富文本编辑器中，用户通过编辑器即可获得与 AI 对话的功能，提高了操作的便利性。在用户编写文档的的过程中，针对于划词或者选中，系统也提供了AI的支持，能够对选中文本进行划词翻译、修改润色等。

![文档编辑功能时序图](C:\Users\xiaoyan13\Desktop\thesis-pictures\文档编辑功能时序图.png)

2. 文章生成

一个典型的文章生成的用户操作包括用户进行配置和通过配置生成文章两个部分。用户可以在“生成配置”页面进行整文生成的配置。在生成配置的页面，用户通过“添加配置”来添加一个整文生成流程，通过具体的流程配置来控制整个流程。通用的配置包括模型源、搜索引擎选择；本地与远程 RAG 检索支持；自定义整文生成的系统提示词等。在一个典型的文章生成历程中，系统遵循了分步生成，即一个整文生成流程可选的能够被拆解为多个任务，每个任务作为流程的一部分运行。系统也允许用户在配置中对每个步骤的默认主题和提示词进行覆盖、改写。在配置完成后，用户可以在“整文生成”页进行整个任务流。一个典型的任务流包括任务理解、大纲生成、整文生成、文章扩写与优化四个步骤。用户将会根据引导进行文章生成。最后，在文章生成后，用户点击“另存为文档”将文档保存下来，并自动跳转至文档编辑页面进行进一步的修改。

![文章生成功能时序图](C:\Users\xiaoyan13\Desktop\thesis-pictures\文章生成功能时序图.png)

3. 文档与模板管理

文档可以另存为模板。在文档的管理页面，点击某个文档选项，选择“另存为模板”，系统将会将该文档另存为模板。选择“收藏”，即可将文档进行收藏。所有收藏的文档可以在“我的收藏“中找到。在“我的模板”中可以看到用户所有的模板。用户可以通过单个模板来生成一个初始文档。文档与模板同样都有回收的功能，以防用户误删造成无法复原。回收站中的内容设置有自动保存的天数，在存储时间达到阈值的时候会自动删除。

![文档与模板管理功能时序图](C:\Users\xiaoyan13\Desktop\thesis-pictures\文档与模板管理功能时序图.png)

## 系统设计与实现

本章阐述了系统的具体实现。本章首先给出了两个关键模块的设计与实现，分别为文章生成、RAG 检索模块，同时展示了二者之间的操作关系。同时，也对系统所使用到的关键技术点进行了介绍，例如，分步生成策略、文章生成多任务的执行以及相关数据结构的实现、RAG 预处理策略。随后，对上一章的各个模块设计进行了实现上的细节补充。最后，通过案例展示了系统的运作过程。

### 文章生成流程设计与实现

文章生成的过程被设计为分步生成。分步生成在文章生成中的优势在于它能够有效提高生成内容的质量和连贯性。相比于一次性生成完整文章，分步生成将文章创作过程分解为多个阶段，每个阶段专注于特定的内容或结构。这种方式允许模型进行多步思考、与用户进行多步交互，能够更加清晰的理解用户的意图。而且，这种方法可以更好地控制文章的结构，使得生成的内容更具逻辑性和层次感。例如，首先生成文章的大纲，确保整体框架合理，然后逐步填充每一部分的细节，确保每一段内容都与主题紧密相关，避免出现跑题或信息断层的情况。此外，分步生成还便于对中间结果进行检查和修正，能够实时发现潜在的问题并进行调整，从而避免生成出质量不高的文章。

#### 生成任务队列设计

文章生成的过程被设计为分步生成，且每一步都被设计为是可定制化的。用户通过生成配置页面来设置每一步的任务配置。一个典型的任务包含如下的字段：

| 字段名                      | 类型                               | 默认值   | 说明                       |
| --------------------------- | ---------------------------------- | -------- | -------------------------- |
| `id`                        | `str`                              | -        | -                          |
| `config_id`                 | `int`                              | -        | 每个任务对应的文章生成配置 |
| `config`                    | `dict`                             | -        | -                          |
| `step_n`                    | `int`                              | `0`      | 当前步骤                   |
| `generate_status`           | `Literal['undo', 'doing', 'done']` | `"undo"` | 生成状态                   |
| `article_title`             | `str`                              | `''`     | 文章标题                   |
| `user_input`                | `str`                              | `''`     | 用户输入                   |
| `task_type`                 | `str`                              | `''`     | 任务类型                   |
| `task_result`               | `str`                              | `''`     | 任务结果                   |
| `search_needed`             | `bool`                             | `True`   | 是否需要搜索               |
| `network_RAG_search_needed` | `bool`                             | `True`   | 是否需要网络 RAG 搜索      |
| `local_RAG_search_needed`   | `bool`                             | `True`   | 是否需要本地 RAG 搜索      |
| `model_used`                | `str`                              | `''`     | 使用的模型                 |
| `search_engine_used`        | `str`                              | `''`     | 使用的搜索引擎             |
| `search_ready`              | `bool`                             | `False`  | AI 搜索引擎是否准备完毕    |
| `network_RAG_search_ready`  | `bool`                             | `False`  | 网络 RAG 搜索是否准备完毕  |
| `local_RAG_search_ready`    | `bool`                             | `False`  | 本地 RAG 搜索是否准备完毕  |
| `search_ended`              | `bool`                             | `False`  | 是否所有检索都已经完成     |
| `search_result`             | `None`                             | `None`   | 搜索结果                   |
| `network_RAG_search_result` | `None`                             | `None`   | 网络 RAG 搜索结果          |
| `local_RAG_search_result`   | `None`                             | `None`   | 本地 RAG 搜索结果          |
| `comprehend_task_generator` | `Optional[Generator | None]`       | `None`   | 任务生成器（理解任务）     |
| `outline_generator`         | `Optional[Generator | None]`       | `None`   | 任务生成器（大纲）         |
| `doc_generator`             | `Optional[Generator | None]`       | `None`   | 任务生成器（文档）         |
| `expand_doc_generator`      | `Optional[Generator | None]`       | `None`   | 任务生成器（扩展文档）     |
| `common_task_generator`     | `Optional[Generator | None]`       | `None`   | 任务生成器（通用任务）     |

一个典型的任务流包含四个步骤，对应四种任务：任务理解、大纲生成、文章生成、文章优化。其中，任务理解即让大模型对当前任务有一定的理解，随后在大纲生成中将根据当前的理解生成文章的大纲。任务理解和大纲生成往往会结合 AI 搜索引擎，来通过网络搜索获取最新的知识，以减少误判的可能性，但这些都是用户可配置的。最后，对于每个任务产生的结果支持用户修改，以作为下一个任务的输入。

考虑到系统的可扩展性，系统在设计上将任务扩展为完全可定制的，即每个任务不必拘泥于四项中的某一项。对于通用任务，用户可以自定义其名称、任务描述、系统提示词。而对于上述四种定制任务，后端在用户配置的基础上进行一些优化操作，例如在任务理解上，通过附加系统提示词以让当模型更深刻的理解当前任务。

对于一整个文章生成过程来讲，往往需要执行多个任务，这个过程就需要我们保证用户能够实时的获取每个任务当前的状态。我们通过一个任务队列来维护当前任务，并且通过一个映射表来建立任务ID到队列中任务的映射。一个任务的生命周期设计如下：

![tasks](C:\Users\xiaoyan13\Desktop\thesis-pictures\tasks.png)

如图所示，一个任务在用户发起请求的时候被创建，并被立即插入队列，状态变为 doing；在任务进行完毕后，任务进入 ready 状态，并且在第一次被获取对应结果的迭代器后 generator 变为 done。在整个任务流对应的文档被创建时，系统会根据 id_map 找到所有与该文档相关的状态为 done 的任务，并将他们弹出队列，从而避免由于任务长期驻留造成的内存泄漏。

最后，由于系统采用了前后端解耦的 Restful API 设计，所以在前端用户刷新的时候，我们需要在后端返回当前任务视图应该表现的实时状态。Vue 的 MMVM 架构将视图层与数据层相分离，二者通过响应式系统连接。基于此设计，在用户刷新或重连时，能直接更改视图层对应的数据状态，使当前的视图状态变为最新。

![mvvm](C:\Users\xiaoyan13\Desktop\thesis-pictures\mvvm.png)

### RAG 检索模块设计与优化

系统使用 langchain 来作为一个统一的平台来接入各种 Embedding 模型，默认情况下系统使用 Erniebot 来进行文本嵌入与检索。在一个标准的 RAG 使用流程中，我们使用相似度检索(similarity search)计算余弦相似度，拿到语义相关性(Semantic similarity)最强的文本片段，并且用利用这些片段，来增强大模型的回答：

检索增强生成是一种强大的技术，通过结合外部信息检索机制来增强语言模型。虽然标准的 RAG 实现提高了响应相关性，但它在复杂的检索场景中经常遇到困难。为了进一步优化检索过程，系统引入了一些增强 RAG 系统功能的方式。首先，系统会自动创建一些与文档相关的常见问题，这就扩展了模型可以匹配的潜在查询范围。这些常见问题解答只生成一次，并与文档一起存储，在不产生持续检索成本的情况下提供了更大的搜索空间。其次，系统会利用大模型生成文档的一个摘要，这有助于模型捕捉其核心思想，使检索更加有效。通过将这个概述嵌入到文档中，为相关查询提供了额外的入口点，从而提高了文档匹配率。

### 其他模块与页面设计

本节介绍其他模块的具体实现，分为文本扩写与优化模块、AI 搜索引擎模块、用户管理模块，最后展示了页面 UI 设计。

#### 文本扩写与优化

在文章编写中，系统为富文本编辑器提供的第一优先级的支持。如图演示所示，在一个典型的使用过程中，系统提供了富文本编辑器的支持，并且在选中文本的过程中支持出现悬浮窗。此悬浮窗支持 AI 的多项功能，具体包括文本续写、修饰润色、病句改写、中英翻译。

![image-20250226180435980](C:\Users\xiaoyan13\AppData\Roaming\Typora\typora-user-images\image-20250226180435980.png)

在技术原理上，使用了 tiptap 提供的 VueNodeViewRenderer 函数，该函数能够将 vue 组件作为一个单独的叶子节点插入当前的富文本编辑器中。

#### AI 搜索引擎模块

本系统集成了基于 AI 的搜索引擎，在实现上使用了 Duckduckgo，利用其来进行网络检索。如果一个任务被设定为需要进行网络检索，那么该任务将会调用该模块，并生成网络检索后结果，格式为 json 数据：

// todo: 参数结构示例表

考虑到实际情况的网络延迟，这个过程是相对缓慢的。为了优化用户体验，系统实现了页面的心跳机制，能够实时的展示搜索状态并动态刷新页面。具体实现上，前端将进行一个定时器循环的宏任务，定时向后端请求当前任务的状态。而后端在收到请求后，将根据任务本身的状态位来判断是否搜索完毕；如果执行完毕，系统将会允许前端进行结果数据的请求，以便展示数据。

#### 用户管理

系统实现了基于 POP3/IMAP/SMTP 的邮箱验证的用户注册与登录，并实现了基本的登入登出、注销与修改密码功能。

#### 页面展示

// todo：页面展示图

### 系统测试与应用                 

## 总结

利用大模型来进行辅助文章写作具有可行性。考虑到用 AI 代替与辅助人进行文章写作，能够很大程度地降低文章文本的人工编写成本与时间成本，探索如何利用大模型及相关辅助技术来进行高质量的文本生成，是有实际意义、有使用价值的。

本文以大模型为基础，通过结合 RAG 与 AI 搜索引擎等技术，使用分步生成的技巧，设计了一个较为完善的 AI 写作辅助应用，它能够精准的理解任务需求，并生成符合需求的高质量的文章。而对于已有的文章片段，系统还提供了润色、优化的等辅助写作的功能。系统使用到了本地与远程 RAG 结合、通过一些优化策略进行检索，保证了大模型能够根据最新、最准确的数据进行任务理解与文本生成；系统在整文生成过程中采用了分步生成的策略，这种方式允许模型进行多步思考、与用户进行多步交互，能够更加清晰的理解用户的意图、允许我们及时地修改错误的输出，从而避免生成出质量不高的文章。

同时相信随着相关技术的发展，大语言模型将会具备更加强大的文本生成能力，从而对辅助工具与优化技巧要求更少。届时，文章生成落地难度将会更加低，AI 将能够更容易地被用于高质量的文本撰写工作。

## Literature

https://en.wikipedia.org/wiki/Help:Editing

https://www.reddit.com/r/LocalLLaMA/comments/18zqy4s/the_secret_to_writing_quality_stories_with_llms/

https://aijourn.com/disadvantages-and-risks-of-ai-in-the-world-of-literary-creation/

https://arxiv.org/abs/2402.16929

https://github.com/langgptai/LangGPT/tree/main

https://www.ranktracker.com/zh/blog/the-pros-and-cons-of-using-ai-generated-content-for-seo/

https://www.zhihu.com/tardis/zm/art/675509396?source_id=1003

https://towardsdatascience.com/enhancing-rag-beyond-vanilla-approaches/







